:root {
    --bg-gray: #f2f2f2;
    --border-gray: #ccc;
    --text-black: #333;
    --highlight-blue: #4a90e2;
    --hp-red: #e74c3c;
    --hunger-yellow: #f1c40f;
    --water-blue: #3498db;
}

body {
    margin: 0;
    padding: 0;
    font-family: 'Microsoft YaHei', sans-serif;
    background-color: #333; /* 外部背景深色 */
    height: 100vh;
    display: flex;
    justify-content: center;
}

.app-container {
    width: 100%;
    max-width: 420px;
    height: 100%;
    background-color: #fff;
    display: flex;
    flex-direction: column;
    position: relative;
}

/* 顶部信息 */
.top-bar { padding: 5px 10px; font-size: 12px; border-bottom: 1px solid #eee; }
.loc-info { display: flex; justify-content: space-between; font-weight: bold; font-size: 14px; margin-bottom: 4px; }
.mini-map-btn { background: #3498db; color: white; padding: 2px 5px; font-size: 10px; border-radius: 2px; }
.time-info { text-align: center; margin-bottom: 5px; color: #555; }

.stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 4px;
    font-size: 11px;
    color: #333;
}
.stat-hp { color: var(--hp-red); }
.stat-hunger { color: #d3a900; }
.stat-water { color: var(--water-blue); }

/* 季节栏 */
.season-bar { display: flex; height: 36px; border-top: 1px solid #ccc; border-bottom: 1px solid #ccc; }
.season-box { width: 40px; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; border-right: 1px solid #ccc; }
.weather-box { flex: 1; background: #6fa8dc; color: white; display: flex; align-items: center; justify-content: center; font-size: 20px; }

/* 存活栏 */
.survive-bar { display: flex; border-bottom: 1px solid #ccc; padding: 5px; font-size: 11px; color: #3498db; }
.survive-bar span { flex: 1; text-align: center; border-right: 1px solid #eee; }

/* 筛选栏 */
.filter-bar { padding: 5px 10px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; }
.small-btn { font-size: 10px; padding: 2px 5px; background: white; border: 1px solid #999; }
.checkboxes label { font-size: 12px; margin-left: 5px; font-weight: bold; }
.checkboxes input { vertical-align: middle; }

/* --- 核心区域：模仿截图的格子列表 --- */
.content-area {
    flex: 1;
    background: #f9f9f9;
    padding: 10px;
    overflow-y: auto;
}

.item-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-content: flex-start;
}

.grid-btn {
    background: #fff;
    border: 1px solid #ccc;
    padding: 8px 12px;
    font-size: 13px;
    border-radius: 4px;
    box-shadow: 1px 1px 2px rgba(0,0,0,0.05);
    cursor: pointer;
    white-space: nowrap;
}
.grid-btn:active { background: #eee; }
/* 怪物名字设为红色，模仿截图 */
.grid-btn.mob { color: #c0392b; border-color: #e6b0aa; }
.grid-btn.res { color: #333; }

/* 日志区 */
.log-area {
    height: 120px;
    border-top: 1px solid #ccc;
    padding: 5px 10px;
    font-size: 12px;
    color: #333;
    overflow-y: auto;
    background: #fff;
    line-height: 1.5;
}
.log-area p { margin: 2px 0; }

/* --- 控制面板 (关键：模仿截图底部) --- */
.control-panel {
    height: 100px;
    border-top: 1px solid #ccc;
    display: flex;
    background: #fff;
}

/* 左侧十字地图 */
.d-pad-map {
    width: 100px; /* 左侧宽度 */
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    padding: 5px;
    gap: 2px;
    border-right: 1px solid #eee;
}

.d-cell {
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 10px;
    color: #999;
}
.d-cell.dir-btn {
    border: 1px solid #eee;
    color: #d35400; /* 土黄色字 */
    cursor: pointer;
}
.d-cell.current-loc {
    background: #8bc34a; /* 绿色背景 */
    color: white;
    font-weight: bold;
}
.d-cell.empty { background: transparent; }

/* 右侧按钮 */
.action-buttons {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: space-around;
    padding: 0 10px;
}
.func-btn {
    background: #fff;
    border: 1px solid #ccc;
    padding: 6px 12px;
    font-size: 12px;
    color: #333;
    border-radius: 2px;
}
.func-btn.active {
    border: 1px solid #3498db;
    color: #3498db;
}

/* 底部导航 */
.bottom-nav {
    height: 45px;
    background: #fdfdfd;
    border-top: 1px solid #ccc;
    display: flex;
}
.nav-item {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 12px;
    color: #333;
    border-right: 1px solid #eee;
    cursor: pointer;
}
.nav-item.active {
    background: #3498db;
    color: white;
}

/* --- 地形颜色定义（如果原始文件中没有） --- */
/* 如果原始文件已有，请忽略此段 */
:root {
    /* 假设地图使用的颜色，保持一致性 */
    --color-plains: #7cfc00;
    --color-forest: #228b22;
    --color-desert: #f4a460;
    --color-mountain: #808080;
    --color-gobi: #d2b48c;
    /* 新增其他地形颜色（模仿 1000024821.jpg） */
    --color-river: #6ab0e5;
    --color-lake: #4a90e2;
    --color-swamp: #8c8f43; 
}


/* --- 地图弹窗样式 (模仿截图 1000024819.jpg) --- */
.modal {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    /* 使用白色背景，而非半透明，更接近截图 */
    background: #ffffff; 
    z-index: 999;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
.modal.hidden { display: none; }

.modal-content {
    width: 100%; height: 100%;
    display: flex; flex-direction: column;
}

.modal-header {
    padding: 15px;
    text-align: center;
    font-size: 16px;
    font-weight: bold;
    color: #333;
    /* 模仿截图的“关闭地图”文字 */
}

.big-map-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #f0f0f0; /* 背景微灰 */
    overflow: auto;
}

.big-grid {
    display: grid;
    /* 9x9 视野 */
    grid-template-columns: repeat(9, 36px);
    grid-template-rows: repeat(9, 36px);
    gap: 1px;
    border: 1px solid #ddd;
    background: #fff;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.map-cell {
    width: 36px; height: 36px;
    display: flex; justify-content: center; align-items: center;
    font-size: 11px;
    color: #333; 
    font-weight: bold;
    border: 1px solid #eee; /* 格子内线 */
}

/* 玩家位置和迷雾 */
.map-cell.player { 
    border: 2px solid red; 
    background: #8bc34a !important; /* 绿色，模仿截图 1000024819.jpg */
    color: white;
}
.map-cell.fog { 
    background-color: #eee !important; /* 迷雾/未探索区域 */
    color: transparent; 
}

/* 地形颜色类 */
.map-cell.bg-PLAINS { background: var(--color-plains); }
.map-cell.bg-FOREST { background: var(--color-forest); color: white; }
.map-cell.bg-DESERT { background: var(--color-desert); }
.map-cell.bg-MOUNTAIN { background: var(--color-mountain); color: white; }
.map-cell.bg-GOBI { background: var(--color-gobi); }
.map-cell.bg-RIVER { background: var(--color-river); }
.map-cell.bg-LAKE { background: var(--color-lake); }
.map-cell.bg-SWAMP { background: var(--color-swamp); }

.modal-footer {
    padding: 10px;
    text-align: center;
    background: #f9f9f9;
    color: #666;
    font-size: 12px;
    cursor: pointer;
    border-top: 1px solid #ddd;
}

.map-controls {
    display: flex;
    justify-content: space-around;
    padding: 10px;
    background: #f9f9f9;
}
.map-controls button {
    background: #fff;
    border: 1px solid #ccc;
    padding: 5px 10px;
    font-size: 12px;
    border-radius: 3px;
}
